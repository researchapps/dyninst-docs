<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building SymtabAPI &mdash; Dyninst 12.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-argparse.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Dyninst
          </a>
              <div class="version">
                12.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Dataflow API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html#api-reference">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">dynC API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dynC_API/index.html">DynC API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynC_API/index.html#dync-language-description">DynC Language Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dynC_API/index.html#the-dyninst-domain">The Dyninst Domain</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Instruction API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../instructionAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instructionAPI/index.html#instructionapi-modules-and-abstractions">InstructionAPI Modules and Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instructionAPI/index.html#instructionapi-class-reference">InstructionAPI Class Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Parse API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#the-parsing-api">The Parsing API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#extending-parseapi">Extending ParseAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#defensive-mode-parsing">Defensive Mode Parsing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Patch API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#public-api-reference">Public API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#modification-api-reference">Modification API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#plugin-api-reference">Plugin API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#patchapi-for-dyninst-programmers">PatchAPI for Dyninst Programmers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Stackwalk</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html#api-reference">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html#callback-interface-default-implementations">Callback Interface Default Implementations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Symtab API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#simple-examples">Simple Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#definitions-and-basic-types">Definitions and Basic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#namespace-symtabapi">Namespace SymtabAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#api-reference-symbol-table-interface">API Reference - Symbol Table Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#api-reference-line-number-interface">API Reference - Line Number Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#api-reference-type-interface">API Reference - Type Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#api-reference-dynamic-components">API Reference - Dynamic Components</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Dyninst</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Building SymtabAPI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/symtabAPI/A-Appendix.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="building-symtabapi">
<h1>Building SymtabAPI<a class="headerlink" href="#building-symtabapi" title="Permalink to this headline"></a></h1>
<p>This appendix describes how to build SymtabAPI from source code, which
can be downloaded from <a class="reference external" href="http://www.paradyn.org">http://www.paradyn.org</a> or <a class="reference external" href="http://www.dyninst.org">http://www.dyninst.org</a>.</p>
<div class="section" id="building-on-unix">
<h2>Building on Unix<a class="headerlink" href="#building-on-unix" title="Permalink to this headline"></a></h2>
<p>Building SymtabAPI on UNIX platforms is a four step process that
involves: unpacking the SymtabAPI source, installing any SymtabAPI
dependencies, configuring paths in make.config.local, and running the
build.</p>
<p>SymtabAPI’s source code is packaged in a tar.gz format. If your
SymtabAPI source tarball is called <code class="docutils literal notranslate"><span class="pre">symtab_src_1.0.tar.gz</span></code>, then you
could extract it with the command
<code class="docutils literal notranslate"><span class="pre">gunzip</span> <span class="pre">symtab_src_1.0.tar.gz;</span> <span class="pre">tar</span> <span class="pre">-xvf</span> <span class="pre">symtab_src_1.0.tar</span></code>. This will
create two directories: core and scripts.</p>
<p>SymtabAPI has several dependencies, depending on what platform you are
using, which must be installed before SymtabAPI can be built. Note that
for most of these packages Symtab needs to be able to access the
package’s include files, which means that development versions are
required. If a version number is listed for a packaged, then there are
known bugs that may affect Symtab with earlier versions of the package.</p>
<div class="center container">
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Linux/x86</td>
<td>libdwarf-200120327</td>
</tr>
<tr class="row-even"><td></td>
<td>libelf</td>
</tr>
<tr class="row-odd"><td>Linux/x86-64</td>
<td>libdwarf-200120327</td>
</tr>
<tr class="row-even"><td></td>
<td>libelf</td>
</tr>
<tr class="row-odd"><td>Windows/x86</td>
<td>&lt;none&gt;</td>
</tr>
</tbody>
</table>
</div>
<p>At the time of this writing the Linux packages could be found at:</p>
<ul class="simple">
<li>libdwarf - <a class="reference external" href="http://reality.sgiweb.org/davea/dwarf.html">http://reality.sgiweb.org/davea/dwarf.html</a></li>
<li>libelf - <a class="reference external" href="http://www.mr511.de/software/english.html">http://www.mr511.de/software/english.html</a></li>
</ul>
<p>Once the dependencies for SymtabAPI have been installed, SymtabAPI must
be configured to know where to find these packages. This is done through
SymtabAPI’s <code class="docutils literal notranslate"><span class="pre">core/make.config.local</span></code> file. This file must be written
in GNU Makefile syntax and must specify directories for each dependency.
Specifically, LIBDWARFDIR, LIBELFDIR and LIBXML2DIR variables must be
set. LIBDWARFDIR should be set to the absolute path of libdwarf library
where <code class="docutils literal notranslate"><span class="pre">dwarf.h</span></code> and <code class="docutils literal notranslate"><span class="pre">libdw.h</span></code> files reside. LIBELFDIR should be set
to the absolute path where <code class="docutils literal notranslate"><span class="pre">libelf.a</span></code> and <code class="docutils literal notranslate"><span class="pre">libelf.so</span></code> files are
located. Finally, LIBXML2DIR to the absolute path where libxml2 is
located.</p>
<p>The next thing is to set DYNINST_ROOT, PLATFORM, and LD_LIBRARY_PATH
environment variables. DYNINST_ROOT should be set to the path of the
directory that contains core and scripts subdirectories.</p>
<p>PLATFORM should be set to one of the following values depending upon
what operating system you are running on:</p>
<div class="description container">
<p>i386-unknown-linux2.4Linux 2.4/2.6 on an Intel x86 processor</p>
<p>x86_64-unknown-linux2.4Linux 2.4/2.6 on an AMD-64 processor</p>
</div>
<p>LD_LIBRARY_PATH variable should be set in a way that it includes
libdwarf home directory/lib and $DYNINST_ROOT/$PLATFORM/lib directories.</p>
<p>Once <code class="docutils literal notranslate"><span class="pre">make.config.local</span></code> is set you are ready to build SymtabAPI.
Change to the core directory and execute the command make SymtabAPI.
This will build the SymtabAPI library. Successfully built binaries will
be stored in a directory named after your platform at the same level as
the core directory.</p>
</div>
<div class="section" id="building-on-windows">
<h2>Building on Windows<a class="headerlink" href="#building-on-windows" title="Permalink to this headline"></a></h2>
<p>SymtabAPI for Windows is built with Microsoft Visual Studio 2003 project
and solution files. Building SymtabAPI for Windows is similar to UNIX in
that it is a four step process: unpack the SymtabAPI source code,
install SymtabAPI’s package dependencies, configure Visual Studio to use
the dependencies, and run the build system.</p>
<p>SymtabAPI’s source code is distributed as part of a tar.gz package. Most
popular unzipping programs are capable of handling this format.
Extracting the Symtab tarball results in two directories: core and
scripts.</p>
<p>Symtab for Windows depends on Microsoft’s Debugging Tools for Windows,
which could be found at
<a class="reference external" href="http://www.microsoft.com/whdc/devtools/debugging/default.mspx">http://www.microsoft.com/whdc/devtools/debugging/default.mspx</a> at the
time of this writing. Download these tools and install them at an
appropriate location. Make sure to do a custom install and install the
SDK, which is not always installed by default. For the rest of this
section, we will assume that the Debugging Tools are installed at
<code class="docutils literal notranslate"><span class="pre">C:\</span> <span class="pre">Program</span> <span class="pre">Files\Debugging</span> <span class="pre">Tools</span> <span class="pre">for</span> <span class="pre">Windows</span></code>. If this is not the
case, then adjust the following instruction appropriately.</p>
<p>Once the Debugging Tools are installed, Visual Studio must be configured
to use them. We need to add the Debugging Tools include and library
directories to Visual Studios search paths. In Visual Studio 2003 select
<code class="docutils literal notranslate"><span class="pre">Options...</span></code> from the tools menu. Next select Projects and VC++
Directories from the pane on the left. You should see a list of
directories that are sorted into categories such as ‘Executable files’,
‘Include files’, etc. The current category can be changed with a drop
down box in the upper right hand side of the Dialog.</p>
<div class="line-block">
<div class="line">First, change to the ‘Library files’ category, and add an entry that
points to</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\Debugging</span> <span class="pre">Tools</span> <span class="pre">for</span> <span class="pre">Windows\sdk\lib\i386</span></code>. Make
sure that this entry is above Visual Studio’s default search paths.</div>
</div>
<p>Next, Change to the ‘Include files’ category and make a new entry in the
list that points to
<code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files\Debugging</span> <span class="pre">Tools</span> <span class="pre">for</span> <span class="pre">Windows\sdk\inc</span></code>. Also make sure
that this entry is above Visual Studio’s default search paths. Some
users have had a problem where Visual Studio cannot find the
<code class="docutils literal notranslate"><span class="pre">cvconst.h</span></code> file. You may need to add the directory containing this
file to the include search path. We have seen it installed at
<code class="docutils literal notranslate"><span class="pre">$(VCInstallDir)\</span> <span class="pre">..\Visual</span> <span class="pre">Studio</span> <span class="pre">SDKs\DIA</span> <span class="pre">SDK\include</span></code>, although you
may need to search for it. You also need to add the libxml2 include path
depending on the where the libxml2 is installed on the system.</p>
<p>Once you have installed and configured the Debugging Tools for Windows
you are ready to build Symtab. First, you need to create the directories
where Dyninst will install its completed build. From the core directory
you need to create the directories <code class="docutils literal notranslate"><span class="pre">..\i386-unknown-nt4.0\bin</span></code> and
<code class="docutils literal notranslate"><span class="pre">..\i386-unknown-nt4.0\lib</span></code>. Next open the solution file
core/SymtabAPI.sln with Visual Studio. You can then build SymtabAPI by
select ‘Build Solution’ from the build menu. This will build the
SymtabAPI library.</p>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1996-2022, Barton P. Miller.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>