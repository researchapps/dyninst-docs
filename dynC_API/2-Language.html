<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DynC Language Description &mdash; Dyninst 12.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-argparse.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Dyninst
          </a>
              <div class="version">
                12.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The Dataflow API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataflowAPI/index.html#api-reference">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">dynC API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">DynC API</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#dync-language-description">DynC Language Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#the-dyninst-domain">The Dyninst Domain</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Instruction API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../instructionAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instructionAPI/index.html#instructionapi-modules-and-abstractions">InstructionAPI Modules and Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../instructionAPI/index.html#instructionapi-class-reference">InstructionAPI Class Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Parse API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#the-parsing-api">The Parsing API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#extending-parseapi">Extending ParseAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parseAPI/index.html#defensive-mode-parsing">Defensive Mode Parsing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Patch API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#examples">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#public-api-reference">Public API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#modification-api-reference">Modification API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#plugin-api-reference">Plugin API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patchAPI/index.html#patchapi-for-dyninst-programmers">PatchAPI for Dyninst Programmers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Stackwalk</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html#api-reference">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stackwalk/index.html#callback-interface-default-implementations">Callback Interface Default Implementations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Symtab API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#abstractions">Abstractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#simple-examples">Simple Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#definitions-and-basic-types">Definitions and Basic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#namespace-symtabapi">Namespace SymtabAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#api-reference-symbol-table-interface">API Reference - Symbol Table Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#api-reference-line-number-interface">API Reference - Line Number Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#api-reference-type-interface">API Reference - Type Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../symtabAPI/index.html#api-reference-dynamic-components">API Reference - Dynamic Components</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Dyninst</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>DynC Language Description</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/dynC_API/2-Language.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="dync-language-description">
<h1>DynC Language Description<a class="headerlink" href="#dync-language-description" title="Permalink to this headline"></a></h1>
<p>The DynC language is a subset of C with a <strong>domain</strong> specification for
selecting the location of a resource.</p>
<div class="section" id="domains">
<h2>Domains<a class="headerlink" href="#domains" title="Permalink to this headline"></a></h2>
<p>Domains are special keywords that allow the programmer to precisely
indicate which resource to use. DynC domains follow the form of , with a
back-tick separating the domain and the identifier. The DynC domains are
as follows:</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">DynC API Domains</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Domain</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td>The inferior process (the program being instrumented).
Allows access to functions of the mutatee and it’s
loaded libraries.</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>Dyninst utility functions. Allows access to context
information as well as the function. See Appendix
<a class="reference external" href="#sec:dyninstdomain">[sec:dyninstdomain]</a>.</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>A mutatee variable local to function in which the
snippet is inserted.</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td>A global mutatee variable.</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td>A parameter of the mutatee function in which the
snippet is inserted.</td>
</tr>
<tr class="row-odd"><td><em>default</em></td>
<td>The default domain (domain not specified) is the domain
of snippet variables.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>inf`printf(&quot;n is equal to %d.\n&quot;, ++global`n);
</pre></div>
</div>
<p>This would increment and print the value of the mutatee global variable
n.</p>
</div>
<div class="section" id="control-flow">
<h2>Control Flow<a class="headerlink" href="#control-flow" title="Permalink to this headline"></a></h2>
<div class="section" id="comments">
<h3>Comments<a class="headerlink" href="#comments" title="Permalink to this headline"></a></h3>
<p>Block and line comments work as they do in C or C++.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>
 <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">comment</span><span class="o">.</span>
 <span class="o">*/</span>
<span class="nb">int</span> <span class="n">i</span><span class="p">;</span> <span class="o">//</span> <span class="n">So</span> <span class="ow">is</span> <span class="n">this</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="conditionals">
<h3>Conditionals<a class="headerlink" href="#conditionals" title="Permalink to this headline"></a></h3>
<p>Use to conditionally execute code. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if(x == 0){
   inf`printf(&quot;x == 0.\n&quot;);
}
</pre></div>
</div>
<p>The command can be used to specify code executed if a condition is not
true. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if(x == 0){
   inf`printf(&quot;x == 0.\n&quot;);
}else if(x &gt; 3){
   inf`printf(&quot;x &gt; 3.\n&quot;);
}else{
   inf`printf(&quot;x &lt; 3 but x }= 0.\n&quot;);
}
</pre></div>
</div>
</div>
<div class="section" id="first-only-code-block">
<span id="sec-firstonly"></span><h3>First-Only Code Block<a class="headerlink" href="#first-only-code-block" title="Permalink to this headline"></a></h3>
<p>Code enclosed by a pair of is executed only once by a snippet.
First-only code blocks can be useful for declaring and initilizing
variables, or for any task that needs to be executed only once. Any
number of first-only code blocks can be used in a dynC code snippet.</p>
<p>A first-only code block is equivalent to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="nb">int</span> <span class="n">firstTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">firstTime</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span>
  <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
  <span class="n">firstTime</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>DynC will only execute the code in a first-only section the first time a
snippet is executed. If is called multiple times and is passed the same
name, then the first-only code will be executed only once: the first
time that any of those snippets <em>with the same name</em> is executed. In
contrast, if a snippet is created by calling with a unique snippet name
(or if a name is unspecified), the first-only code will be executed only
once upon reaching the first point encountered in the execution of the
mutatee where the returned is inserted.</p>
<p>Example Touch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{%
   inf`printf(&quot;Function %s has been touched.\n&quot;, dyninst`function_name);
%}
</pre></div>
</div>
<p>If is passed the code in Example Touch and the name and the returned is
inserted at the entry to function , the output would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span> <span class="n">foo</span> <span class="n">has</span> <span class="n">been</span> <span class="n">touched</span><span class="o">.</span>
<span class="p">(</span><span class="n">mutatee</span> <span class="n">exit</span><span class="p">)</span>
</pre></div>
</div>
<p>If the dynC code in Example Touch is passed to multiple times and each
snippet is given the same name, but is inserted at the entries of the
functions , , and respectively, the output would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span> <span class="n">foo</span> <span class="n">has</span> <span class="n">been</span> <span class="n">touched</span><span class="o">.</span>
<span class="p">(</span><span class="n">mutatee</span> <span class="n">exit</span><span class="p">)</span>
</pre></div>
</div>
<p>Creating the snippets with distinct names (e.g. is called with the dynC
code in Example Touch multiple times and the snippets are named , , )
would produce an output like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span> <span class="n">foo</span> <span class="n">has</span> <span class="n">been</span> <span class="n">touched</span><span class="o">.</span>
<span class="n">Function</span> <span class="n">bar</span> <span class="n">has</span> <span class="n">been</span> <span class="n">touched</span><span class="o">.</span>
<span class="n">Function</span> <span class="n">run</span> <span class="n">has</span> <span class="n">been</span> <span class="n">touched</span><span class="o">.</span>
<span class="p">(</span><span class="n">mutatee</span> <span class="n">exit</span><span class="p">)</span>
</pre></div>
</div>
<p>A cautionary note: the use of first-only blocks can be expensive, as a
conditional must be evaluated each time the snippet is executed. If the
option is available, one may opt to insert a dynC snippet initializing
all global variables at the entry point of .</p>
</div>
</div>
<div class="section" id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline"></a></h2>
<p>DynC allows for the creation of <em>snippet local</em> variables. These
variables are in scope only within the snippet in which they are
created.</p>
<p>For example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span><span class="p">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<p>would create an uninitialized variable named of type integer. The value
of is then set to 5. This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="static-variables">
<h3>Static Variables<a class="headerlink" href="#static-variables" title="Permalink to this headline"></a></h3>
<p>Every time a snippet is executed, non-static variables are
reinitialized. To create a variable with value that persists across
executions of snippets, declare the variable as static.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>int i = 10;
inf`printf(&quot;i is %d.\n&quot;, i++);
</pre></div>
</div>
<p>If the above is inserted at the entrance to a function that is called
four times, the output would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="ow">is</span> <span class="mf">10.</span>
<span class="n">i</span> <span class="ow">is</span> <span class="mf">10.</span>
<span class="n">i</span> <span class="ow">is</span> <span class="mf">10.</span>
<span class="n">i</span> <span class="ow">is</span> <span class="mf">10.</span>
</pre></div>
</div>
<p>Adding to the variable declaration would make the value of persist
across executions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>static int i = 10;
inf`printf(&quot;i is %d.\n&quot;, i++);
</pre></div>
</div>
<p>Produces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="ow">is</span> <span class="mf">10.</span>
<span class="n">i</span> <span class="ow">is</span> <span class="mf">11.</span>
<span class="n">i</span> <span class="ow">is</span> <span class="mf">12.</span>
<span class="n">i</span> <span class="ow">is</span> <span class="mf">13.</span>
</pre></div>
</div>
<p>A variable declared in a first-only section will also behave statically,
as the initialization occurs only once.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span>
   <span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="an-explanation-of-the-internal-workings-of-dync-variable-creation">
<span id="sec-varexplain"></span><h3>An Explanation of the Internal Workings of DynC Variable Creation<a class="headerlink" href="#an-explanation-of-the-internal-workings-of-dync-variable-creation" title="Permalink to this headline"></a></h3>
<p>DynC uses the DyninstAPI function to allocate dynC declared variables
when is called. The variable name is mangled with the name of the
snippet passed to createSnippet. Thus, variables declared in dynC
snippets are accessible only to those snippets created by calling with
the same name.</p>
<p>If the variables are explicitly initialized, dynC sets the value of the
variable with a snippet. Because of this, each time the snippet is
executed, the value is reset to the initialized value. If, however the
variables are not explicitly initialized, they are automatically set to
a type-specific zero-value. Scalar variables are set to 0, and c-strings
are set to empty, null-terminated strings (i.e. ).</p>
<p>If a variable is declared with the keyword, then the initialization is
performed as if in a first-only block (see section
<a class="reference external" href="#sec:firstOnly">1.2.3</a>). Thus, a variable is initialized only the
first time that snippet is executed, and subsequent executions of the
variable initialization are ignored.</p>
</div>
<div class="section" id="creating-global-variables-that-work-with-dync">
<h3>Creating Global Variables That Work With DynC<a class="headerlink" href="#creating-global-variables-that-work-with-dync" title="Permalink to this headline"></a></h3>
<p>To declare a global variable that is accessible to all snippets inserted
into a mutatee, one must use the DyninstAPI method (see <em>Dyninst
Programmer’s Guide</em>). This code is located in mutator code (<em>not</em> in
dynC code).</p>
<p><strong>myMutator.C:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="o">//</span> <span class="n">Creates</span> <span class="n">a</span> <span class="k">global</span> <span class="n">variable</span> <span class="n">of</span> <span class="nb">type</span> <span class="ow">in</span> <span class="n">named</span> <span class="n">globalIntN</span>
<span class="n">myAddressSpace</span><span class="o">-&gt;</span><span class="n">malloc</span><span class="p">(</span><span class="n">myImage</span><span class="o">-&gt;</span><span class="n">getType</span><span class="p">(</span><span class="s2">&quot;int&quot;</span><span class="p">),</span> <span class="s2">&quot;globalIntN&quot;</span><span class="p">);</span>

<span class="o">//</span> <span class="n">file1</span> <span class="ow">and</span> <span class="n">file2</span> <span class="n">are</span> <span class="n">FILE</span> <span class="o">*</span><span class="p">,</span> <span class="n">entryPoint</span> <span class="ow">and</span> <span class="n">exitPoint</span> <span class="n">are</span> <span class="n">BPatch_point</span>
<span class="n">BPatch_snippet</span> <span class="o">*</span><span class="n">snippet1</span> <span class="o">=</span> <span class="n">dynC</span><span class="p">::</span><span class="n">createSnippet</span><span class="p">(</span><span class="n">file1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">entryPoint</span><span class="p">,</span> <span class="s2">&quot;mySnippet1&quot;</span><span class="p">);</span>
<span class="n">BPatch_snippet</span> <span class="o">*</span><span class="n">snippet2</span> <span class="o">=</span> <span class="n">dynC</span><span class="p">::</span><span class="n">createSnippet</span><span class="p">(</span><span class="n">file2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">exitPoint</span><span class="p">,</span> <span class="s2">&quot;mySnippet2&quot;</span><span class="p">);</span>

<span class="k">assert</span><span class="p">(</span><span class="n">snippet1</span><span class="p">);</span>
<span class="k">assert</span><span class="p">(</span><span class="n">snippet2</span><span class="p">);</span>

<span class="n">myAdressSpace</span><span class="o">-&gt;</span><span class="n">insertSnippet</span><span class="p">(</span><span class="n">snippet1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">entryPoint</span><span class="p">);</span>
<span class="n">myAdressSpace</span><span class="o">-&gt;</span><span class="n">insertSnippet</span><span class="p">(</span><span class="n">snippet2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">exitPoint</span><span class="p">);</span>

<span class="o">//</span> <span class="n">run</span> <span class="n">the</span> <span class="n">mutatee</span>
<span class="p">((</span><span class="n">BPatch_process</span> <span class="o">*</span><span class="p">)</span><span class="n">myAdressSpace</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">continueExecution</span><span class="p">();</span>
<span class="o">...</span>
</pre></div>
</div>
<p><strong>file1:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{%
   global`globalIntN = 0; // initialize global variable in first-only section
%}
inf`printf(&quot;Welcome to function %s. Global variable globalIntN = %d.\n&quot;,
     dyninst`function_name, global`globalIntN++);
</pre></div>
</div>
<p><strong>file2:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>inf`printf(&quot;Goodbye from function %s. Global variable globalIntN = %d.\n&quot;,
     dyninst`function_name, global`globalIntN++);
</pre></div>
</div>
<p>When run, the output from the instrumentation would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Welcome</span> <span class="n">to</span> <span class="n">function</span> <span class="n">foo</span><span class="o">.</span> <span class="n">Global</span> <span class="n">variable</span> <span class="n">globalIntN</span> <span class="o">=</span> <span class="mf">0.</span>
<span class="n">Goodbye</span> <span class="kn">from</span> <span class="nn">function</span> <span class="n">foo</span><span class="o">.</span> <span class="n">Global</span> <span class="n">variable</span> <span class="n">globalIntN</span> <span class="o">=</span> <span class="mf">1.</span>
<span class="n">Welcome</span> <span class="n">to</span> <span class="n">function</span> <span class="n">foo</span><span class="o">.</span> <span class="n">Global</span> <span class="n">variable</span> <span class="n">globalIntN</span> <span class="o">=</span> <span class="mf">2.</span>
<span class="n">Goodbye</span> <span class="kn">from</span> <span class="nn">function</span> <span class="n">foo</span><span class="o">.</span> <span class="n">Global</span> <span class="n">variable</span> <span class="n">globalIntN</span> <span class="o">=</span> <span class="mf">3.</span>
<span class="n">Welcome</span> <span class="n">to</span> <span class="n">function</span> <span class="n">foo</span><span class="o">.</span> <span class="n">Global</span> <span class="n">variable</span> <span class="n">globalIntN</span> <span class="o">=</span> <span class="mf">4.</span>
<span class="n">Goodbye</span> <span class="kn">from</span> <span class="nn">function</span> <span class="n">foo</span><span class="o">.</span> <span class="n">Global</span> <span class="n">variable</span> <span class="n">globalIntN</span> <span class="o">=</span> <span class="mf">5.</span>
</pre></div>
</div>
</div>
<div class="section" id="data-types">
<span id="datatypes"></span><h3>Data Types<a class="headerlink" href="#data-types" title="Permalink to this headline"></a></h3>
<div class="line-block">
<div class="line">DynC supported data types are restricted by those supported by
Dyninst: , , , and . Integer and c-string primitives are also
recognized:</div>
<div class="line">Example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="n">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="pointers">
<h3>Pointers<a class="headerlink" href="#pointers" title="Permalink to this headline"></a></h3>
<p>Pointers are dereferenced with the prefix and the address of variable is
specified by . For example, in reference to the previous example from
section <a class="reference external" href="#dataTypes">1.3.4</a>, the statement would evaluate to the
character .</p>
</div>
<div class="section" id="arrays">
<h3>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline"></a></h3>
<p>Arrays in DynC behave much the same way they do in C.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>int array[3] = {1, 2, 3};
char *names[] = {&quot;Mark&quot;, &quot;Phil&quot;, &quot;Deb&quot;, &quot;Tracy&quot;};
names[2] = &quot;Gwen&quot; // change Deb to Gwen
inf`printf(&quot;The seventh element of mutArray is %d.\n&quot;, global`mutArray[6]); //Mutatee array
if(inf`strcmp(*names, &quot;Mark&quot;) == 0){} // This will evaluate to true.
</pre></div>
</div>
</div>
</div>
<div class="section" id="dync-limitations">
<h2>DynC Limitations<a class="headerlink" href="#dync-limitations" title="Permalink to this headline"></a></h2>
<p>The DynC, while quite expressive, is limited to those actions supported
by the DyninstAPI. As such, it lacks certain abilities that many
programmers have come to expect. These differences will be discussed in
an exploration of those C abilities that dynC lacks.</p>
<div class="section" id="loops">
<h3>Loops<a class="headerlink" href="#loops" title="Permalink to this headline"></a></h3>
<p>There are no looping structures in DynC.</p>
</div>
<div class="section" id="enums-unions-structures">
<h3>Enums, Unions, Structures<a class="headerlink" href="#enums-unions-structures" title="Permalink to this headline"></a></h3>
<p>These features present a unique implementation challenge and are in
development. Look to future revisions for full support for enums,
unions, and structures.</p>
</div>
<div class="section" id="preprocessing">
<h3>Preprocessing<a class="headerlink" href="#preprocessing" title="Permalink to this headline"></a></h3>
<p>DynC does not allow C-style preprocessing macros or importation. Rather
than statements, constant variables are recommended.</p>
</div>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h3>
<p>Specifying functions is beyond the scope of the DynC language.
DyninstAPI has methods for dynamically loading code into a mutatee, and
these loaded functions can be used in DynC snippets.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1996-2022, Barton P. Miller.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>